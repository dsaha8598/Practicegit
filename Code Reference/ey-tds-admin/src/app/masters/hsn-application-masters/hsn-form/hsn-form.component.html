<div class="ui-g-6">
  <div class="ui-g-6 mx-0">
    <h2 class="fs-22">{{ headingMsg }} HSN</h2>
  </div>
</div>
<div class="ui-g-6 text-right">
  <button
    (click)="stateChanger('edit')"
    type="button"
    class="ui-button btn-primary"
    *ngIf="actionState === 'VIEW'"
  >
    Edit
  </button>
</div>
<div class="ui-g-12">
  <form [formGroup]="hsnForm">
    <div class="form-row">
      <div
        class="ui-inputgroup ui-g-6"
        [ngClass]="{ 'field-invalid': submitted && f.hsnCode.errors }"
      >
        <label for="">HSN code</label>
        <input
          type="text"
          formControlName="hsnCode"
          placeholder="Enter hsn code"
          numberlengthvalidator
          maxLength="8"
          class="input-ctrl"
          pInputText
        />
        <div *ngIf="submitted && f.hsnCode.errors" class="error-feedback">
          <div *ngIf="f.hsnCode.errors?.required">
            Please enter equivalent HSN code for the nature of payment.
          </div>
          <div *ngIf="f.hsnCode.errors?.pattern">Please enter only digits.</div>
        </div>
      </div>
      <div
        class="ui-inputgroup ui-g-6"
        [ngClass]="{ 'field-invalid': submitted && f.description.errors }"
      >
        <label for="inputCity">Description</label>
        <input
          type="text"
          formControlName="description"
          placeholder="Enter description"
          class="input-ctrl"
          [ngClass]="{ 'is-invalid': submitted && f.description.errors }"
          pInputText
          ngDefaultControl
        />
        <div *ngIf="submitted && f.description.errors" class="error-feedback">
          <div *ngIf="f.description.errors.required">
            Please enter description.
          </div>
        </div>
      </div>
      <div class="ui-inputgroup mb-0 ui-g-6">
        <label for="inputState">Section</label>
        <p-dropdown
          [options]="sectionlist"
          [value]="hsnForm.getRawValue().tdsSection"
          ngDefaultControl
          formControlName="tdsSection"
          (onChange)="sectionChangeHandler($event)"
        ></p-dropdown>
      </div>

      <div
        class="ui-inputgroup mb-0 ui-g-6"
        [ngClass]="{ 'field-invalid': submitted && f.natureOfPayment.errors }"
      >
        <label for="inputState">Nature of payment</label>
        <p-dropdown
          [options]="getnatureofpaymentlist"
          [(ngModel)]="hsnForm.getRawValue().natureOfPayment"
          [value]="hsnForm.getRawValue().natureOfPayment"
          ngDefaultControl
          (onChange)="nopChangeHandler($event)"
          formControlName="natureOfPayment"
        >
        </p-dropdown>
        <div
          *ngIf="submitted && f.natureOfPayment.errors"
          class="error-feedback"
        >
          Please select nature of payment.
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 mt-20">
        <div class="ui-inputgroup">
          <button
            (click)="goBack()"
            type="button"
            class="ui-button btn-utility"
          >
            <i class="fas fa-arrow-left"></i> Back
          </button>
          <button
            (click)="saveHsn('addNew')"
            type="button"
            class="ui-button btn-secondary"
            *ngIf="actionState !== 'EDIT' && actionState !== 'VIEW'"
          >
            <i class="fas fa-save"></i> Save &amp; Add New
          </button>
          <button
            (click)="saveHsn('back')"
            type="button"
            class="ui-button btn-primary"
            *ngIf="actionState !== 'EDIT' && actionState !== 'VIEW'"
          >
            <i class="fas fa-save"></i> Save
          </button>
          <button
            (click)="updateHsn()"
            type="button"
            class="ui-button btn-primary"
            *ngIf="actionState === 'EDIT'"
          >
            Update
          </button>
        </div>
      </div>
    </div>
  </form>
</div>
