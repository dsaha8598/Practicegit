<div class="ui-g-12">
  <div class="ui-g-6 mx-0">
    <h2 class="fs-22 mb-0">Group and Tenant Config</h2>
  </div>
  <div class="ui-g-6 mx-0 text-right" *HasAnyAuthority="['DEDUCTOR_CREATE']">
    <span>
      <button
        type="button"
        class="ui-button btn-primary"
        [routerLink]="['form']"
        [queryParams]="{ action: 'form' }"
      >
        <i class="fas fa-plus-circle"></i> Add New
      </button>
    </span>
  </div>
</div>
<div class="ui-g-12 mb-100" *HasAnyAuthority="['DEDUCTOR_LIST']">
  <div class="p-20 pt-10 border">
    <p-table
      #dt
      [columns]="selectedColumns"
      [paginator]="true"
      [rows]="5"
      [rowsPerPageOptions]="[5, 10, 20, 30]"
      [totalRecords]="deductorGroupList?.length"
      [value]="deductorGroupList"
      [scrollable]="true"
      [resizableColumns]="true"
      scrollHeight="400px"
    >
      <ng-template pTemplate="caption">
        <div class="ui-g mt-0">
          <div class="ui-g-12 ui-md-4 mx-0">
            <div style="text-align:left">
              <p-multiSelect
                [options]="cols"
                optionLabel="header"
                name="selectedColumns"
                selectedItemsLabel="{0} columns selected"
                [style]="{ minWidth: '200px' }"
                [(ngModel)]="selectedColumns"
                defaultLabel="Choose Columns"
                ngDefaultControl
              ></p-multiSelect>
            </div>
          </div>
          <div class="ui-inputgroup ui-inputgroup-cust ui-g-8 mx-0">
            <div class="relative">
              <input
                type="text"
                pInputText
                placeholder="Search"
                (input)="dt.filterGlobal($event.target.value, 'contains')"
                class="input-ctrl input-search-type"
              />
              <button type="submit" class="input-search pi pi-search"></button>
            </div>
          </div>
        </div>
      </ng-template>
      <ng-template pTemplate="colgroup" let-columns="columns">
        <colgroup>
          <col *ngFor="let col of columns" [style.width]="col.width" />
        </colgroup>
      </ng-template>
      <ng-template pTemplate="header" let-columns>
        <tr>
          <th
            *ngFor="let col of columns; let i = index"
            [pSortableColumn]="col.field"
            [style.width]="col.width"
          >
            {{ col.header }}
            <p-sortIcon [field]="col.field"></p-sortIcon>
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rowData let-columns="columns">
        <tr>
          <td
            *ngFor="let col of columns; let i = index"
            [style.width]="col.width"
          >
            <a
              *ngIf="col.type === 'initial'"
              [routerLink]="['form']"
              [queryParams]="{
                action: 'view',
                id: rowData.deductorPan,
                tenantId: rowData.tenantId,
                tenantName: rowData.tenantName
              }"
            >
              {{ rowData[col.field] }}</a
            >
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage" let-columns>
        <tr>
          <td [attr.colspan]="columns.length">
            No records found
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>

<ey-footer></ey-footer>
