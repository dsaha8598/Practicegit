<div class="ui-g-6 mx-0">
  <h2 class="fs-22">HSN Rate Mapping</h2>
</div>
<div class="ui-g-12">
  <div class="ui-inputgroup ui-inputgroup-cust ui-g-12">
    <div class="relative">
      <input
        type="text"
        pInputText
        placeholder="Search with HSN/SAC code"
        [(ngModel)]="searchKey"
        class="input-ctrl input-search-type"
      />
      <button
        type="submit"
        class="input-search pi pi-search"
        (click)="getSearchData()"
      ></button>
    </div>
  </div>
  <div class="ui-g-12  mb-100">
    <div class="p-20 pt-15 border">
      <p-table
        #dt
        [columns]="selectedColumns"
        [paginator]="true"
        [rows]="5"
        [rowsPerPageOptions]="[5, 10, 20, 30]"
        [totalRecords]="seachedData?.length"
        [value]="seachedData"
        [scrollable]="true"
        [resizableColumns]="true"
        scrollHeight="400px"
      >
        <ng-template pTemplate="header" let-columns>
          <tr>
            <th
              *ngFor="let col of columns; let i = index"
              [pSortableColumn]="col.field"
              [style.width]="col.width"
            >
              {{ col.header }}
              <p-sortIcon [field]="col.field"></p-sortIcon>
            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-columns="columns">
          <tr>
            <td
              *ngFor="let col of columns; let i = index"
              [style.width]="col.width"
            >
              <a
                *ngIf="col.type === 'initial'"
                [routerLink]="['form']"
                [queryParams]="{ action: 'view', id: rowData.id }"
              >
                {{ rowData[col.field] }}</a
              >
              <span *ngIf="col.type === 'date'">{{
                rowData[col.field] | date: 'dd/MM/yyyy h:mm:ss a'
              }}</span>
              <p *ngIf="col.type === 'long-text'" class="ellipse">
                {{ rowData[col.field] }}
              </p>
              <span *HasAnyAuthority="['CESS_UPDATE']">
                <a
                  href="#"
                  *ngIf="col.type === 'action'"
                  class="text-right"
                  [routerLink]="['form']"
                  [queryParams]="{ action: 'edit', id: rowData.id }"
                >
                  Edit
                </a>
              </span>
              <span
                *ngIf="!col.type"
                [ngbTooltip]="rowData[col.field]"
                container="body"
                >{{ rowData[col.field] }}</span
              >
              <p class="ellipse" *ngIf="col.type === 'array'">
                <span *ngFor="let item of rowData[col.field]" class="mr-10">{{
                  item.nature
                }}</span>
              </p>
            </td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage" let-columns>
          <tr>
            <td [attr.colspan]="columns.length">
              No records found
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>
